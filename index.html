<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Birthday Celebration</title>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
      width: 100%;
      overflow: hidden;
      background: black;
      font-family: 'Dancing Script', cursive;
      color: white;
    }

    #startBtn {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      padding: 20px 40px;
      font-size: 24px;
      cursor: pointer;
      border: none;
      border-radius: 15px;
      background: linear-gradient(135deg, #ff6ec4, #7873f5);
      color: white;
      font-family: 'Poppins', sans-serif;
      box-shadow: 0 0 20px rgba(255,255,255,0.7);
      z-index: 10;
    }

    canvas {
      position: absolute;
      top: 0;
      left: 0;
    }

    .message {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      font-size: 28px;
      max-width: 40%;
      opacity: 0;
      transition: opacity 2s ease;
      line-height: 1.4;
    }

    .left { left: 10%; text-align: left; }
    .right { right: 10%; text-align: right; }

    .show { opacity: 1; }

    #finalMessage {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 70px;
      font-family: 'Great Vibes', cursive;
      color: #ffb6c1;
      opacity: 0;
      text-shadow: 0 0 20px #ff69b4, 0 0 40px #ff1493;
    }

    /* Grand entry for Happy Birthday */
    @keyframes grandEntrance {
      0% { opacity: 0; transform: translate(-50%, -50%) scale(0.6); text-shadow: none; }
      50% { opacity: 1; transform: translate(-50%, -50%) scale(1.2); text-shadow: 0 0 40px #ff69b4, 0 0 80px #ff1493; }
      100% { opacity: 1; transform: translate(-50%, -50%) scale(1); text-shadow: 0 0 25px #ff69b4, 0 0 50px #ff1493; }
    }

    @keyframes glowingPulse {
      0%, 100% { text-shadow: 0 0 20px #ff69b4, 0 0 40px #ff1493; }
      50% { text-shadow: 0 0 40px #ff1493, 0 0 80px #ff4da6; }
    }

    .grandShow {
      opacity: 1 !important;
      animation: grandEntrance 6s ease forwards, glowingPulse 3s infinite alternate ease-in-out;
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&family=Great+Vibes&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
  <button id="startBtn">üéÅ Begin Celebrations</button>
  <canvas id="fireworks"></canvas>

  <!-- 13 Messages -->
  <div id="messages">
    <div class="message left">This day is as special as your voice ‚ú®</div>
    <div class="message right">Every moment with you feels magical üí´</div>
    <div class="message left">I still remember those movements that day üå∏</div>
    <div class="message right">Your kindness lights up the darkest days üåü</div>
    <div class="message left">Dreams are brighter when you believe üåà</div>
    <div class="message right">Your laughter is the sweetest melody üé∂</div>
    <div class="message left">You are the Cameo that turned everything</div>
    <div class="message right">Your smile Always spreads happiness‚ù§Ô∏è</div>
    <div class="message left">The stars shine brighter tonight for you üåå</div>
    <div class="message right">You are my desire that i desired to desire üíñ</div>
    <div class="message left">Your journey ahead will be golden ‚ú®</div>
    <div class="message right">Let this world know how great you are </div>
    <div class="message left">And today, all hearts celebrate YOU üéÇ</div>
  </div>

  <div id="finalMessage">Happy Birthday ‚ù§Ô∏è</div>

  <audio id="bgMusic" src="song.mp3"></audio>

  <script>
    const startBtn = document.getElementById('startBtn');
    const canvas = document.getElementById('fireworks');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const messages = document.querySelectorAll('.message');
    const finalMessage = document.getElementById('finalMessage');
    const music = document.getElementById('bgMusic');

    // Fireworks particles
    let particles = [];
    class Particle {
      constructor(x, y, color) {
        this.x = x;
        this.y = y;
        this.radius = 2;
        this.color = color;
        this.speedX = (Math.random() - 0.5) * 5;
        this.speedY = (Math.random() - 0.5) * 5;
        this.alpha = 1;
      }
      update() {
        this.x += this.speedX;
        this.y += this.speedY;
        this.alpha -= 0.01;
      }
      draw() {
        ctx.globalAlpha = this.alpha;
        ctx.fillStyle = this.color;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
        ctx.fill();
        ctx.globalAlpha = 1;
      }
    }

    function createFirework(grand = false) {
      const x = Math.random() * canvas.width;
      const y = Math.random() * canvas.height * 0.6;
      const colors = ["#ff004c", "#ff8400", "#00ffea", "#ffd300", "#ff66c4", "#7fff00"];
      const color = colors[Math.floor(Math.random() * colors.length)];
      const count = grand ? 120 : 40; // more particles in finale
      for (let i = 0; i < count; i++) {
        particles.push(new Particle(x, y, color));
      }
    }

    function animateFireworks() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      particles.forEach((p, index) => {
        p.update();
        p.draw();
        if (p.alpha <= 0) particles.splice(index, 1);
      });
      requestAnimationFrame(animateFireworks);
    }

    // Show messages one by one
    function showMessages() {
      messages.forEach((msg, i) => {
        setTimeout(() => {
          msg.classList.add('show');
          createFirework();
          setTimeout(() => msg.classList.remove('show'), 4000);
        }, i * 6000);
      });

      // Final message after all statements + extra 4s + 1.5s = 5.5s delay
      setTimeout(() => {
        finalMessage.classList.add('grandShow');

        // Fireworks finale boost
        const finaleInterval = setInterval(() => createFirework(true), 1200);
        setTimeout(() => clearInterval(finaleInterval), 15000); // finale lasts 15s
      }, messages.length * 6000 + 5500); // +5500ms delay
    }

    startBtn.addEventListener('click', () => {
      startBtn.style.display = 'none';
      music.play();
      animateFireworks();
      setInterval(() => createFirework(false), 3000); // normal slow bursts
      showMessages();
    });
  </script>
</body>
</html>
